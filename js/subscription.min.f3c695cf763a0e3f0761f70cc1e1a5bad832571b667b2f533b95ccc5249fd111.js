(async()=>{const a="subscription",r=`${a}__success-msg`,c=`${a}__failure-msg`,o=`${r}_visible`,i=`${c}_visible`,e=document.querySelector("#subscription");if(!e)return;const t=e.querySelector("form"),n=e.querySelector(`.${r}`),s=e.querySelector(`.${c}`);if([e,t,n,s].some(e=>!e))return;t.addEventListener("submit",async e=>{event.preventDefault(),n.classList.remove(o),s.classList.remove(i);const a=t.getAttribute("action"),r=new FormData(e.target);try{const e=await fetch(a,{method:"post",body:r,headers:{accept:"application/json"}}),t=await e.json();t.status==="success"&&n.classList.add(o)}catch(e){s.classList.add(i)}})})()