<!DOCTYPE html>
<html lang="en">

  <head>
      <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Language" content="en">
  <meta name="color-scheme" content="light dark">

  

  <meta name="author" content="Max Kovalevskii">
  <meta name="description" content="The problem    In the previous post we talked about what is TypeScript and why should we use that. Now it&rsquo;s time to go to practice.
We need to know how to start using TypeScript in our JavaScript project. In examples of this post series, I will use mostly code that written in Node environment. It won&rsquo;t be any specific code that is understandable for only developers who worked with Node before.">
  <meta name="keywords" content="javascript,typescript">


  
    <meta name="image" content="https://mkvl.meimages/detecting-errors-before-running-code-with-typescript.png" />
  

  <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://mkvl.me/images/detecting-errors-before-running-code-with-typescript.png"/>

<meta name="twitter:title" content="Detecting Errors Before Running Code With TypeScript"/>
<meta name="twitter:description" content="The problem    In the previous post we talked about what is TypeScript and why should we use that. Now it&rsquo;s time to go to practice.
We need to know how to start using TypeScript in our JavaScript project. In examples of this post series, I will use mostly code that written in Node environment. It won&rsquo;t be any specific code that is understandable for only developers who worked with Node before."/>

  <meta property="og:title" content="Detecting Errors Before Running Code With TypeScript" />
<meta property="og:description" content="The problem    In the previous post we talked about what is TypeScript and why should we use that. Now it&rsquo;s time to go to practice.
We need to know how to start using TypeScript in our JavaScript project. In examples of this post series, I will use mostly code that written in Node environment. It won&rsquo;t be any specific code that is understandable for only developers who worked with Node before." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mkvl.me/detecting-errors-before-running-code-with-typescript/" /><meta property="og:image" content="https://mkvl.me/images/detecting-errors-before-running-code-with-typescript.png" /><meta property="article:section" content="" />
<meta property="article:published_time" content="2021-05-10T21:10:00+00:00" />
<meta property="article:modified_time" content="2021-05-10T21:10:00+00:00" />



  <title>
    Detecting Errors Before Running Code With TypeScript
  </title>

  
    <link rel="canonical" href="https://mkvl.me/detecting-errors-before-running-code-with-typescript/">
  

  
    <link rel="webmention" href="https://webmention.io/mkvl.me/webmention" />
    <link rel="pingback" href="https://webmention.io/mkvl.me/xmlrpc" />
  

  <link rel="preload" href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>

  
    
    
    <link rel="stylesheet" href="/css/byte.min.97ef5ae14db2373509968e933cfc86335a5762de4c8b06f94f6309cb312365a5.css" integrity="sha256-l&#43;9a4U2yNzUJlo6TPPyGM1pXYt5Miwb5T2MJyzEjZaU=" crossorigin="anonymous" media="screen" />
  

  

  
    
      
      
      <link rel="stylesheet" href="/css/byte-dark.min.1b42d15774e69478cb825e8007515bbf5e64035bbc3361161c7b911338e17dba.css" integrity="sha256-G0LRV3TmlHjLgl6AB1Fbv15kA1u8M2EWHHuREzjhfbo=" crossorigin="anonymous" media="screen" />
    
  

  

  

  <link rel="icon" type="image/png" href="/images/favicon.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/images/favicon.png" sizes="16x16">

  <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

  

  <meta name="generator" content="Hugo 0.95.0" />

  </head>

  
  
    
  
  <body class="preload-transitions colorscheme-dark"
        onload=""
  >
    <div class="main-layout">
      <div>
        <header class="header">
  <div class="container">
    <div class="header__inner">
      <a href="https://mkvl.me" class="logo-title u-url">MKVL</a>
      
        <div>
          <nav class="navbar">
            
              
                <a
                  class="navbar__link"
                  href="/">
                    <i class='fa fa-home color-green'></i>
                    ~/
                </a>
              
                <a
                  class="navbar__link"
                  href="/about/">
                    <i class='fa fa-user color-skyblue'></i>
                    about.md
                </a>
              
                <a
                  class="navbar__link"
                  href="/blog/">
                    <i class='fa fa-book color-pink'></i>
                    blog/
                </a>
              
                <a
                  class="navbar__link"
                  href="/notes/">
                    <i class='fa fa-archive color-orange'></i>
                    notes/
                </a>
              
                <a
                  class="navbar__link"
                  href="/index.xml">
                    <i class='fa fa-rss-square color-pink'></i>
                    rss.xml
                </a>
              
            
          </nav>
        </div>
      
    </div>
  </div>
</header>


        <main class="container">
          
  <div>
  
  


  <br>
  
  
  
  
  
    
    
    <div class="go-back">
  <a href="/blog" class="go-back__inner">
    <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" width="16">
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M10 19l-7-7m0 0l7-7m-7 7h18"
      ></path>
    </svg>
    <span>
      Go Back To Blog
    </span>
  </a>
</div>

  
  
  
  
  <article class="content h-entry">
    
        <div class="content__image">
      <Img class="content__image-inner" src="/images/detecting-errors-before-running-code-with-typescript.png" alt="Detecting Errors Before Running Code With TypeScript" ></Img>
          
            <div
              style="
                font-size: 14px;
                text-align: right;
                margin-top: 10px;
                margin-right: 20px;
              "
            >
              Photo by
              
                <a href="https://www.pexels.com/@pixabay">Pixabay</a>
              
            </div>
          
        </div>
    
    <div class="content__inner">
      <header>
        
          <h1 class="p-name">Detecting Errors Before Running Code With TypeScript</h1>
        
        
          <div class="content__info">
            <i aria-hidden="true" class="fa fa-calendar"></i>
            <time class="dt-published" dateTime=10/05/2021>
              10/05/2021
            </time>
          </div>
        
        
          <div class="post-tags"><div class="post-tags__tag">
      <a class="post-tag p-category" href="/tags/javascript/">
        <i aria-hidden="true" class="fa fa-tag"></i>
        #javascript
      </a>
    </div><div class="post-tags__tag">
      <a class="post-tag p-category" href="/tags/typescript/">
        <i aria-hidden="true" class="fa fa-tag"></i>
        #typescript
      </a>
    </div><div class="post-tags__tag">
      <a class="post-tag p-category" href="/tags/typescriptbook/">
        <i aria-hidden="true" class="fa fa-tag"></i>
        #typescriptbook
      </a>
    </div></div>

        
        
          <hr />
        
      </header>
      
        <div id="subscription" class="subscription-top">
          
<form action="https://sendy.mkvl.me/subscribe" method="POST" accept-charset="utf-8">
	<label for="name">Name</label><br/>
	<input type="text" name="name" id="name"/>
	<br/>
	<label for="email">Email</label><br/>
	<input type="email" name="email" id="email"/><br/><br/>
<input type="checkbox" name="gdpr" id="gdpr"/>
<span><strong>Marketing permission</strong>: I give my consent to MKVL to be in touch with me via email using the information I have provided in this form for the purpose of news, updates and marketing.</span>
<br/><br/>
<span><strong>What to expect</strong>: If you wish to withdraw your consent and stop hearing from us, simply click the unsubscribe link at the bottom of every email we send or contact us at max@mkvl.me. We value and respect your personal data and privacy. To view our privacy policy, please visit our website. By submitting this form, you agree that we may process your information in accordance with these terms.</span>
<br/><br/><div style="display:none;">
	<label for="hp">HP</label><br/>
	<input type="text" name="hp" id="hp"/>
	</div>
	<input type="hidden" name="list" value="jr5dhhdYyT763BY1CZl64s4A"/>
	<input type="hidden" name="subform" value="yes"/>
	<input type="submit" name="submit" id="submit"/>
</form>


        </div>
      
      <section class="e-content">
        <h2 id="the-problem">
  The problem
  <a class="heading-link" href="#the-problem">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>In the <a href="https://maxoid.io/blog/article/typescript-what-is-all-about-and-why-should-you-use-it">previous post</a> we talked about what is <a href="/typescript/">TypeScript</a> and why should we use that. Now it&rsquo;s time to go to practice.</p>
<p>We need to know how to start using <a href="/typescript/">TypeScript</a> in our <a href="/javascript/">JavaScript</a> project. In examples of this post series, I will use mostly code that written in <a href="/node/">Node</a> environment. It won&rsquo;t be any specific code that is understandable for only developers who worked with <a href="/node/">Node</a> before. Because this material is about TypeScript I want to specify more on TypeScript itself.</p>
<p>Okay, let&rsquo;s start with an introduction to our first example. Here we have a very simple command-line application that works on <a href="/node/">Node</a>. This example consists of one file. Let name it <strong>sum.js</strong>. When we execute this file by Node it will ask two questions in the Terminal - a value of argument X and Y. After typing these values the app will print the result of <em>X + Y</em>.</p>
<blockquote>
<p>An example of this code is written with <a href="/node/">Node</a>. If Node is not installed on your machine, check out the post about <a href="https://maxoid.io/blog/article/how-to-install-or-update-node-by-using-nvm">How To Install or Update Node by Using nvm (Node Version Manager)</a>.</p>
</blockquote>
<p>Look at the code:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">readline</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;readline&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">rlInterface</span> <span class="o">=</span> <span class="nx">readline</span><span class="p">.</span><span class="nx">createInterface</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">input</span><span class="o">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">stdin</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">output</span><span class="o">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">stdout</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// there is a simplified version of util.promisify method
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">question</span> <span class="o">=</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">rlInterface</span><span class="p">.</span><span class="nx">question</span><span class="p">(</span><span class="nx">message</span><span class="p">,</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">resolve</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">try</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">argX</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">question</span><span class="p">(</span><span class="s2">&#34;Type value of X: &#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">argY</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">question</span><span class="p">(</span><span class="s2">&#34;Type value of Y: &#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">argX</span><span class="p">,</span> <span class="nx">argY</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Result: </span><span class="si">${</span><span class="nx">result</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">rlInterface</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">main</span><span class="p">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Don&rsquo;t focus on module <em>readline</em>, methods <em>createInterface</em> and <em>question</em>. It&rsquo;s just a <a href="/node/">Node</a> specific code that allows us to take data that the user types in the Terminal. Let&rsquo;s focus on functions <em>sum</em> and <em>main</em>. The function <em>main</em> is just an entry point of our small app.</p>
<p>Alright. Now let&rsquo;s test our app that it works correctly. To run the app use this command (if you already in the same folder as file sum.js there):</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">node sum.js
</span></span></code></pre></td></tr></table>
</div>
</div><p>The app is asking you to type the value of parameters <strong>X</strong> and <strong>Y</strong>. Let it be 7 and 2.</p>
<p>We expected that result will be 9 but the result is disappointed. The app prints:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">72
</span></span></code></pre></td></tr></table>
</div>
</div><p>There is a <strong>bug</strong>. The thing is that the value that function <em>question</em> returns have type <strong>string</strong>, not <strong>number</strong> as it expected in function <em>sum</em>.</p>
<p>It is a typical problem with <a href="/javascript/">JavaScript</a> type system. I would say, it is a JavaScript trademark. Probably, you could see memes and jokes about this problem.</p>
<p>It&rsquo;s all perfectly fine, but how can we avoid this problem? Of course, you can change function <em>sum</em> and do something like this (unary add operator):</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="o">+</span><span class="nx">a</span> <span class="o">+</span> <span class="o">+</span><span class="nx">b</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>But don&rsquo;t you think that this looks like a bad solution? It seems like that we try to use a patch to hide a hole in the tearing jacket. Instead of this, we can put on a new jacket that won&rsquo;t have holes (or maybe less than the previous one) - <a href="/typescript/">TypeScript</a>.</p>
<h2 id="the-solution">
  The solution
  <a class="heading-link" href="#the-solution">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<h3 id="installing-typescript">
  Installing TypeScript
  <a class="heading-link" href="#installing-typescript">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>To install <a href="/typescript/">TypeScript</a> globally on your machine let&rsquo;s use <a href="/npm/">npm</a>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">npm install -g typescript
</span></span></code></pre></td></tr></table>
</div>
</div><p>Alright. Now we need to check that TypeScript was installed. Type this command in the Terminal:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">tsc --version
</span></span></code></pre></td></tr></table>
</div>
</div><p>It should print you something like this:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Version 4.2.4
</span></span></code></pre></td></tr></table>
</div>
</div><p>It means that <a href="/typescript/">TypeScript</a> was successfully installed on our machine. What is <strong>tsc</strong> command? It is a <strong>TypeScript compiler</strong>. As mentioned in the <a href="https://maxoid.io/blog/article/how-to-install-or-update-node-by-using-nvm">previous post</a>, TypeScript compiler is a tool, or program, that turns the TypeScript code into JavaScript code. We need this feature because we will execute this compiled JavaScript code by <a href="/node/">Node</a>.</p>
<div id="subscription-shortcode">
  
<form action="https://sendy.mkvl.me/subscribe" method="POST" accept-charset="utf-8">
	<label for="name">Name</label><br/>
	<input type="text" name="name" id="name"/>
	<br/>
	<label for="email">Email</label><br/>
	<input type="email" name="email" id="email"/><br/><br/>
<input type="checkbox" name="gdpr" id="gdpr"/>
<span><strong>Marketing permission</strong>: I give my consent to MKVL to be in touch with me via email using the information I have provided in this form for the purpose of news, updates and marketing.</span>
<br/><br/>
<span><strong>What to expect</strong>: If you wish to withdraw your consent and stop hearing from us, simply click the unsubscribe link at the bottom of every email we send or contact us at max@mkvl.me. We value and respect your personal data and privacy. To view our privacy policy, please visit our website. By submitting this form, you agree that we may process your information in accordance with these terms.</span>
<br/><br/><div style="display:none;">
	<label for="hp">HP</label><br/>
	<input type="text" name="hp" id="hp"/>
	</div>
	<input type="hidden" name="list" value="jr5dhhdYyT763BY1CZl64s4A"/>
	<input type="hidden" name="subform" value="yes"/>
	<input type="submit" name="submit" id="submit"/>
</form>


</div>

<h3 id="from-javascript-to-typescript">
  From JavaScript to TypeScript
  <a class="heading-link" href="#from-javascript-to-typescript">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>Alright. To solve the problem we need to write the same code as before but in TypeScript. Let&rsquo;s change extension of the JavaScript file <strong>sum.js</strong> to TypeScript file extension - <strong>.ts</strong>. Just rename the file from <strong>sum.js</strong> to <strong>sum.ts</strong> and let&rsquo;s see that we will have it in the editor.</p>
<p>We just renamed our file but there are already some changes in the editor (I use <a href="/visual-studio-code/">Visual Studio Code</a>):</p>
<p><img src="/images/typescript-first-using-screen-1.png" alt="TypeScript code in VSCode"></p>
<p>We have several lines with red underlining which means that there are TypeScript errors. There are also two dashed borders on line 11 - TypeScript warnings. But, why don&rsquo;t we just ignore all this stuff and execute our code? Let&rsquo;s try it.</p>
<p>For executing this file now we must first compile it by TypeScript compiler.</p>
<p>Run this command in the Terminal to compile TypeScript file <strong>sum.ts</strong>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">tsc sum.ts
</span></span></code></pre></td></tr></table>
</div>
</div><p>Oops! After running this command we will see that our code cannot be compiled because of the errors that were marked in the editor.</p>
<p><img src="/images/typescript-first-using-screen-2.png" alt="TypeScript Compiler shows errors"></p>
<p>And <strong>there is a thing</strong>. TypeScript won&rsquo;t allow you to compile the code that contains errors.</p>
<h3 id="fixing-the-code">
  Fixing the code
  <a class="heading-link" href="#fixing-the-code">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>To compile and execute this file we need to fix the code in the file. Let&rsquo;s see what the errors we have there.</p>
<p>The first four problems are about the same thing.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">error TS2468: Cannot find global value &#39;Promise&#39;.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">sum.ts:3:18 - error TS2580: Cannot find name &#39;require&#39;. Do you need to install type definitions for node? Try `npm i --save-dev @types/node`.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">3 const readline = require(&#34;readline&#34;);
</span></span></code></pre></td></tr></table>
</div>
</div><p>TypeScript tries to understand the types of modules that we use in the code - <strong>readline</strong>. To help TypeScript know the types of the modules we need to install <strong>type definitions</strong>. You will learn about it more in the next posts. For now, let&rsquo;s just say that <strong>type definitions</strong> is a special notation that helps TypeScript to know types of code that were originally written in JavaScript.</p>
<p>Let&rsquo;s install it as TypeScript tells us:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">npm install --sade-dev @types/node
</span></span></code></pre></td></tr></table>
</div>
</div><p>Then, try to compile file <strong>sum.ts</strong> again:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">tsc sum.ts
</span></span></code></pre></td></tr></table>
</div>
</div><p>Great! We don&rsquo;t have any errors and successfully compiled our TypeScript file into JavaScript. You should see that there is a new file called <strong>sum.js</strong> in the same folder as <strong>sum.ts</strong>. No, this is not the file that we created before. This file contains compiled JavaScript code of <strong>sum.ts</strong> file.</p>
<p>If you open this file, well&hellip; You may be afraid. There is no our code at all! Don&rsquo;t jump to conclusions. It still the same code as we wrote in <strong>sum.ts</strong> but it transformed into a form that is more understandable for runtime environment (in our case - <a href="/node/">Node</a>, also it might be <a href="/web-browser/">Web browser</a>).</p>
<p>Okay, let&rsquo;s execute our code again. But note that we have to execute <em>compiled code</em>, i.e. <strong>sum.js</strong>, not <strong>sum.ts</strong>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">node sum.js
</span></span></code></pre></td></tr></table>
</div>
</div><p>Let&rsquo;s type new values: 13 and 7. We will see the wrong result, again.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">137
</span></span></code></pre></td></tr></table>
</div>
</div><p>But you said that we will solve this problem by using TypeScript and we will catch the errors before executing the file! Well, there is another thing of TypeScript that you need to remember. <em>You wanna help? Help yourself!</em>. In our case, it means that we have to say to TypeScript where the problem can be.</p>
<h3 id="use-types-to-prevent-bug">
  Use types to prevent bug
  <a class="heading-link" href="#use-types-to-prevent-bug">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>Let&rsquo;s describe our problem in the code. The function <em>question</em> returns a value that has a type string. But we don&rsquo;t know about it before executing the file. Because we don&rsquo;t know it we bravely put the values that function <em>question</em> returns into a parameter of function <strong>sum</strong>. The function <strong>sum</strong> expected that values will have type <em>number</em> and it worked with them as if they were numbers.</p>
<p>So, firstly, we need to say to TypeScript that function <em>question</em> returns string type. Let&rsquo;s do it!</p>
<p>To specify what type of value function returns we should write this code:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">question</span> <span class="o">=</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span><span class="o">:</span> <span class="kt">string</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="k">new</span> <span class="nx">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">rlInterface</span><span class="p">.</span><span class="nx">question</span><span class="p">(</span><span class="nx">message</span><span class="p">,</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">resolve</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Hmm. We specified the type of returned value, but TypeScript shows that there is an error:</p>
<p><img src="/images/typescript-first-using-screen-3.png" alt=""></p>
<p>An error sounds like this:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Type &#39;Promise&lt;unknown&gt;&#39; is not assignable to type &#39;string&#39;.ts(2322)
</span></span></code></pre></td></tr></table>
</div>
</div><p>It means that we cannot just specify the type <strong>string</strong> as a type of returned value of function <em>question</em> because the function <em>question</em> is an asynchronous function and returns Promise.</p>
<p>Alright. To specify the type in this kind of function we just need to specify it like <code>Promise&lt;your_type&gt;</code> as TypeScript writes to us in the text of the error.</p>
<p>Let&rsquo;s fix that:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">question</span> <span class="o">=</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="p">&lt;</span><span class="nt">string</span><span class="p">&gt;</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="k">new</span> <span class="nx">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">rlInterface</span><span class="p">.</span><span class="nx">question</span><span class="p">(</span><span class="nx">message</span><span class="p">,</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">resolve</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Okay. Did we tell TypeScript there might be a problem? Not yet. The next step is to specify the types of parameters of the function <em>sum</em>.</p>
<p>To specify types of function&rsquo;s parameters we should write this code:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">a</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">b</span>: <span class="kt">number</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Let&rsquo;s look at the function <em>main</em> where functions <em>question</em> and <em>sum</em> are calling:</p>
<p><img src="/images/typescript-first-using-screen-4.png" alt="An error in the code"></p>
<p><strong>This is it!</strong>. This is the error that helps us to fix the bug with the wrong result that prints in the Terminal. Now, if we would try to compile file <strong>sum.ts</strong> we will see the error.</p>
<p>To run our program in one file use this command:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">tsc sum.ts &amp;&amp; node sum.js
</span></span></code></pre></td></tr></table>
</div>
</div><p>We will see:</p>
<p><img src="/images/typescript-first-using-screen-5.png" alt="The error in executing the program"></p>
<p>All we have to do is to write a code that <em>converts</em> values from string type to number:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-diff" data-lang="diff"><span class="line"><span class="cl">async function main() {
</span></span><span class="line"><span class="cl">  try {
</span></span><span class="line"><span class="cl">    const argX = await question(&#34;Type value of X: &#34;);
</span></span><span class="line"><span class="cl">    const argY = await question(&#34;Type value of Y: &#34;);
</span></span><span class="line"><span class="cl">    + const x = Number(argX);
</span></span><span class="line"><span class="cl">    + const y = Number(argY);
</span></span><span class="line"><span class="cl">    - const result = sum(argX, argY);
</span></span><span class="line"><span class="cl">    + const result = sum(x, y);
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    console.log(`Result: ${result}`);
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    rlInterface.close();
</span></span><span class="line"><span class="cl">  } catch (e) {
</span></span><span class="line"><span class="cl">    console.error(e);
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Let&rsquo;s see the result of executing our program:</p>
<p><img src="/images/typescript-first-using-screen-6.png" alt=""></p>
<p><strong>Congratulations!</strong> You solve the problem and prevent the bug by using TypeScript!</p>
<p>TypeScript compiler is a very configurable tool. In the next post of the series we deep dive into configuring TypeScript.</p>

      </section>
    </div>
  </article>
  <div id="subscription">
    
<form action="https://sendy.mkvl.me/subscribe" method="POST" accept-charset="utf-8">
	<label for="name">Name</label><br/>
	<input type="text" name="name" id="name"/>
	<br/>
	<label for="email">Email</label><br/>
	<input type="email" name="email" id="email"/><br/><br/>
<input type="checkbox" name="gdpr" id="gdpr"/>
<span><strong>Marketing permission</strong>: I give my consent to MKVL to be in touch with me via email using the information I have provided in this form for the purpose of news, updates and marketing.</span>
<br/><br/>
<span><strong>What to expect</strong>: If you wish to withdraw your consent and stop hearing from us, simply click the unsubscribe link at the bottom of every email we send or contact us at max@mkvl.me. We value and respect your personal data and privacy. To view our privacy policy, please visit our website. By submitting this form, you agree that we may process your information in accordance with these terms.</span>
<br/><br/><div style="display:none;">
	<label for="hp">HP</label><br/>
	<input type="text" name="hp" id="hp"/>
	</div>
	<input type="hidden" name="list" value="jr5dhhdYyT763BY1CZl64s4A"/>
	<input type="hidden" name="subform" value="yes"/>
	<input type="submit" name="submit" id="submit"/>
</form>


  </div>
  <div class="container">
    <h3 class="monospace text-center bold">
      Comments 💬
    </h3>
    
  </div>
</div>

  

        </main>
      </div>

        
  <footer class="footer">
    <section class="container">
      <div class="footer__inner">
        <div>
          
            ©
             Max Kovalevskii 
            2024
          
        </div>
        
          <div>
            <a href="https://xn--sr8hvo.ws/%F0%9F%9A%A7%F0%9F%8D%9D%F0%9F%92%90/previous">←</a>
            An IndieWeb Webring 🕸💍
            <a href="https://xn--sr8hvo.ws/%F0%9F%9A%A7%F0%9F%8D%9D%F0%9F%92%90/next">→</a>
          </div>
        
        
        <div>
          
            Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/byteski/hugo-byte">Byte theme</a>
          
          
        </div>
      </div>
    </section>
  </footer>


    </div>

    
      
      <script src="/js/byte.min.f453d26c79f010446cf0d9770197f77de32c07b7a5512d141a286247fe154a22.js" integrity="sha256-9FPSbHnwEERs8Nl3AZf3feMsB7elUS0UGihiR/4VSiI="></script>
    

    
      
      <script src="/js/subscription.min.f3c695cf763a0e3f0761f70cc1e1a5bad832571b667b2f533b95ccc5249fd111.js" integrity="sha256-88aVz3Y6Dj8HYfcMweGlutgyVxtmey9TO5XMxSSf0RE="></script>
    

    
      
      <script src="/js/subscribers-counter.min.a67e7f4779c353fb307662cf463fd7e3f15c927b44fe97374a9ceb4255b19fcf.js" integrity="sha256-pn5/R3nDU/swdmLPRj/X4/FckntE/pc3SpzrQlWxn88="></script>
    

    

    

    

    <script async defer data-domain="mkvl.me" src="https://plausible.io/js/plausible.js"></script>


    

    

    

    
  </body>

</html>
