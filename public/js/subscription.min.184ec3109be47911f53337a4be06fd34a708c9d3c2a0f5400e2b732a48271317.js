(async()=>{const o="subscription",i=`${o}__success-msg`,a=`${o}__failure-msg`,r=`${i}_visible`,c=`${a}_visible`,e=document.querySelector("#subscription");if(!e)return;const t=e.querySelector("form"),n=e.querySelector(`.${i}`),s=e.querySelector(`.${a}`);if([e,t,n,s].some(e=>!e))return;t.addEventListener("submit",async e=>{event.preventDefault(),n.classList.remove(r),s.classList.remove(c);const o=t.getAttribute("action"),i=new FormData(e.target);try{const e=await fetch(o,{method:"post",body:i,headers:{accept:"application/json"}}),t=await e.json();t.status==="success"&&n.classList.add(r)}catch{s.classList.add(c)}})})()