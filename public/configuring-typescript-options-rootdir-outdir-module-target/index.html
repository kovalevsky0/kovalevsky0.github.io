<!DOCTYPE html>
<html lang="en">

  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
      <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Language" content="en">
  <meta name="color-scheme" content="light dark">

  

  <meta name="author" content="MKVL">
  <meta name="description" content="In the post Getting Started With TypeScript Compiler (tsc) we started to use TypeScript compiler with a few options in a simple Node project. We used tsc command to compile our app with specific rules and in watch mode. It works but we can use much more options of TypeScript compiler. However, use it just like a command in the Terminal with a bunch of flags is not so comfortable. We can improve our workflow by using TypeScript configuration file - tsconfig.">
  <meta name="keywords" content="javascript,typescript,typescript config">


  
    <meta name="image" content="http://localhost:1313/images/configuring-typescript-options-rootdir-outdir-module-target.png" />
  

  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/images/configuring-typescript-options-rootdir-outdir-module-target.png">
  <meta name="twitter:title" content="Configuring TypeScript: options rootDir, outDir, module, target">
  <meta name="twitter:description" content="In the post Getting Started With TypeScript Compiler (tsc) we started to use TypeScript compiler with a few options in a simple Node project. We used tsc command to compile our app with specific rules and in watch mode. It works but we can use much more options of TypeScript compiler. However, use it just like a command in the Terminal with a bunch of flags is not so comfortable. We can improve our workflow by using TypeScript configuration file - tsconfig.">

  <meta property="og:url" content="http://localhost:1313/configuring-typescript-options-rootdir-outdir-module-target/">
  <meta property="og:site_name" content="Learn Go with MKVL | Golang Courses and Tutorials | How To Golang">
  <meta property="og:title" content="Configuring TypeScript: options rootDir, outDir, module, target">
  <meta property="og:description" content="In the post Getting Started With TypeScript Compiler (tsc) we started to use TypeScript compiler with a few options in a simple Node project. We used tsc command to compile our app with specific rules and in watch mode. It works but we can use much more options of TypeScript compiler. However, use it just like a command in the Terminal with a bunch of flags is not so comfortable. We can improve our workflow by using TypeScript configuration file - tsconfig.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:published_time" content="2021-05-18T20:00:00+00:00">
    <meta property="article:modified_time" content="2021-05-18T20:00:00+00:00">
    <meta property="article:tag" content="Javascript">
    <meta property="article:tag" content="Typescript">
    <meta property="article:tag" content="Typescriptbook">
    <meta property="og:image" content="http://localhost:1313/images/configuring-typescript-options-rootdir-outdir-module-target.png">


  <title>
    Configuring TypeScript: options rootDir, outDir, module, target
  </title>

  
    <link rel="canonical" href="http://localhost:1313/configuring-typescript-options-rootdir-outdir-module-target/">
  

  
    <link rel="webmention" href="https://webmention.io/mkvl.me/webmention" />
    <link rel="pingback" href="https://webmention.io/mkvl.me/xmlrpc" />
  

  <link rel="preload" href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>

  
    
    
    <link rel="stylesheet" href="/css/byte.css" media="screen">
  

  

  
    
      
      
      <link rel="stylesheet" href="/css/byte-dark.css" media="screen">
    
  

  

  

  <link rel="icon" type="image/png" href="/images/favicon.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/images/favicon.png" sizes="16x16">

  <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

  

  <meta name="generator" content="Hugo 0.127.0">

  </head>

  
  
    
  
  <body class="preload-transitions colorscheme-dark"
        onload=""
  >
    <div class="main-layout">
      <div>
        <header class="header">
  <div class="container">
    <div class="header__inner">
      <a href="http://localhost:1313/" class="logo-title u-url">Learn Go with MKVL</a>
      
        <div>
          <nav class="navbar">
            
              
                <a
                  class="navbar__link"
                  href="/">
                    <i class='fa fa-home color-green'></i>
                    ~/
                </a>
              
                <a
                  class="navbar__link"
                  href="/about/">
                    <i class='fa fa-user color-skyblue'></i>
                    about.md
                </a>
              
                <a
                  class="navbar__link"
                  href="/blog/">
                    <i class='fa fa-book color-pink'></i>
                    blog/
                </a>
              
                <a
                  class="navbar__link"
                  href="/notes/">
                    <i class='fa fa-archive color-orange'></i>
                    notes/
                </a>
              
            
          </nav>
        </div>
      
    </div>
  </div>
</header>


        <main class="container">
          
  <div>
  
  


  <br>
  
  
  
  
  
    
    
    <div class="go-back">
  <a href="/blog" class="go-back__inner">
    <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" width="16">
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M10 19l-7-7m0 0l7-7m-7 7h18"
      ></path>
    </svg>
    <span>
      Go Back To Blog
    </span>
  </a>
</div>

  
  
  
  
  <article class="content h-entry">
    
        <div class="content__image">
      <Img class="content__image-inner" src="/images/configuring-typescript-options-rootdir-outdir-module-target.png" alt="Configuring TypeScript: options rootDir, outDir, module, target" ></Img>
          
            <div
              style="
                font-size: 14px;
                text-align: right;
                margin-top: 10px;
                margin-right: 20px;
              "
            >
              Photo by
              
                <a href="https://www.pexels.com/@pixabay">Pixabay</a>
              
            </div>
          
        </div>
    
    <div class="content__inner">
      <header>
        
          <h1 class="p-name">Configuring TypeScript: options rootDir, outDir, module, target</h1>
        
        
          <div class="content__info">
            <i aria-hidden="true" class="fa fa-calendar"></i>
            <time class="dt-published" dateTime=18/05/2021>
              18/05/2021
            </time>
          </div>
        
        
          <div class="post-tags"><div class="post-tags__tag">
      <a class="post-tag p-category" href="/tags/javascript/">
        <i aria-hidden="true" class="fa fa-tag"></i>
        #javascript
      </a>
    </div><div class="post-tags__tag">
      <a class="post-tag p-category" href="/tags/typescript/">
        <i aria-hidden="true" class="fa fa-tag"></i>
        #typescript
      </a>
    </div><div class="post-tags__tag">
      <a class="post-tag p-category" href="/tags/typescriptbook/">
        <i aria-hidden="true" class="fa fa-tag"></i>
        #typescriptbook
      </a>
    </div></div>

        
        
          <hr />
        
      </header>
      
        <div id="subscription" class="subscription-top">
          
<form action="https://sendy.mkvl.me/subscribe" method="POST" accept-charset="utf-8">
	<label for="name">Name</label><br/>
	<input type="text" name="name" id="name"/>
	<br/>
	<label for="email">Email</label><br/>
	<input type="email" name="email" id="email"/><br/><br/>
<input type="checkbox" name="gdpr" id="gdpr"/>
<span><strong>Marketing permission</strong>: I give my consent to MKVL to be in touch with me via email using the information I have provided in this form for the purpose of news, updates and marketing.</span>
<br/><br/>
<span><strong>What to expect</strong>: If you wish to withdraw your consent and stop hearing from us, simply click the unsubscribe link at the bottom of every email we send or contact us at max@mkvl.me. We value and respect your personal data and privacy. To view our privacy policy, please visit our website. By submitting this form, you agree that we may process your information in accordance with these terms.</span>
<br/><br/><div style="display:none;">
	<label for="hp">HP</label><br/>
	<input type="text" name="hp" id="hp"/>
	</div>
	<input type="hidden" name="list" value="jr5dhhdYyT763BY1CZl64s4A"/>
	<input type="hidden" name="subform" value="yes"/>
	<input type="submit" name="submit" id="submit"/>
</form>


        </div>
      
      <section class="e-content">
        <p>In the post <a href="https://mkvl.me/blog/article/getting-started-using-and-configuring-typescript-compiler">Getting Started With TypeScript Compiler (tsc)</a> we started to use TypeScript compiler with a few options in a simple Node project. We used <strong>tsc</strong> command to compile our app with specific rules and in watch mode. It works but we can use much more options of TypeScript compiler. However, use it just like a command in the Terminal with a bunch of flags is not so comfortable. We can improve our workflow by using TypeScript configuration file - <strong>tsconfig.json</strong>. In this post, we will learn how to create this file and configure it.</p>
<p>The project example will be the same as in the post <a href="https://mkvl.me/blog/article/getting-started-using-and-configuring-typescript-compiler">Getting Started With TypeScript Compiler (tsc)</a>. It is also available on GitHub as repository <a href="https://github.com/mkvl0/ts-node-sample">maxoidIO/ts-node-sample</a>. If you didn&rsquo;t make the project from previous post from scratch - just download the repository from GitHub or clone the repository by this git command:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">git clone https://github.com/mkvl0/ts-node-sample.git
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="creating-configuration-file">
  Creating configuration file
  <a class="heading-link" href="#creating-configuration-file">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>Alright, let&rsquo;s start with creating the TypeScript configuration file. In the root folder of the project just use <strong>tsc</strong> with a special flag:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">tsc --init
</span></span></code></pre></td></tr></table>
</div>
</div><p>You will see the message from <strong>tsc</strong> that the file was successfully created. Now we have a new file in the folder called <strong>tsconfig.json</strong>. Let&rsquo;s look into this file. You will see a JSON with a bunch of different options. Most of them are commented but few options are already enabled by default. You can check out the whole commands with commentaries in <strong>tsconfig.json</strong> or check out <a href="https://aka.ms/tsconfig.json">documentation</a> by yourself. In this guide, we will configure TypeScript for our small project from scratch so you need to delete all these options. Your <strong>tsconfig.json</strong> should look like this:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;compilerOptions&#34;</span><span class="p">:</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Okay. We already have the command from the previous post that compiles TypeScript with specific rules and in watch mode:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">tsc --module ESNext --outDir &#34;./dist&#34; --watch src/main.ts
</span></span></code></pre></td></tr></table>
</div>
</div><p>Just a reminder. It compiles file <strong>main.ts</strong> that is in folder <strong>/src</strong>. Compiled JavaScript files will be in the folder <strong>/dist</strong>. The option <strong>&ndash;module ESNext</strong> means that <strong>tsc</strong> will compile files in JavaScript code with <a href="/es-modules/">ES Modules</a>.</p>
<p>Now, let&rsquo;s configure the TypeScript compiler in <strong>tsconfig.json</strong>.</p>
<h2 id="rootdir-and-outdir">
  rootDir and outDir
  <a class="heading-link" href="#rootdir-and-outdir">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>First of all, we need to specify the folders for source code and output code. We already have folders <strong>/src</strong> and <strong>/dist</strong> for it. We just need to tell TypeScript to look at <strong>/src</strong> as a folder that contains TypeScript files with source code and to compile all files into the folder <strong>/dist</strong>. For this purpose we can use options <strong>rootDir</strong> and <strong>outDir</strong>.</p>
<ul>
<li><strong>rootDir</strong> is the path to the folder with the source code of the app (in our case it is <strong>/src</strong>)</li>
<li><strong>outDir</strong> is the path to the folder with compiled JavaScript files that will be executed by Node or <a href="/web-browser/">Web browser</a> (in our case it is <strong>/dist</strong>)</li>
</ul>
<p>Change the <strong>tsconfig.json</strong>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;compilerOptions&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;rootDir&#34;</span><span class="p">:</span> <span class="s2">&#34;./src&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;outDir&#34;</span><span class="p">:</span> <span class="s2">&#34;./dist&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Delete the folder <strong>/dist</strong> just to make sure that the TypeScript compiler will create it after compilation based on our configuration file:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">rm -r dist
</span></span></code></pre></td></tr></table>
</div>
</div><p>Because we use configuration file we don&rsquo;t need to use any options or specify file entry point (src/main.ts). Just use in the root folder of the project:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">tsc
</span></span></code></pre></td></tr></table>
</div>
</div><p>You will see that <strong>tsc</strong> successfully created folder <strong>/dist</strong> with compiled JavaScript code.</p>
<p>Run the app just to make sure that everything works as before:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">node dist/main.js
</span></span></code></pre></td></tr></table>
</div>
</div><div id="subscription-shortcode">
  
<form action="https://sendy.mkvl.me/subscribe" method="POST" accept-charset="utf-8">
	<label for="name">Name</label><br/>
	<input type="text" name="name" id="name"/>
	<br/>
	<label for="email">Email</label><br/>
	<input type="email" name="email" id="email"/><br/><br/>
<input type="checkbox" name="gdpr" id="gdpr"/>
<span><strong>Marketing permission</strong>: I give my consent to MKVL to be in touch with me via email using the information I have provided in this form for the purpose of news, updates and marketing.</span>
<br/><br/>
<span><strong>What to expect</strong>: If you wish to withdraw your consent and stop hearing from us, simply click the unsubscribe link at the bottom of every email we send or contact us at max@mkvl.me. We value and respect your personal data and privacy. To view our privacy policy, please visit our website. By submitting this form, you agree that we may process your information in accordance with these terms.</span>
<br/><br/><div style="display:none;">
	<label for="hp">HP</label><br/>
	<input type="text" name="hp" id="hp"/>
	</div>
	<input type="hidden" name="list" value="jr5dhhdYyT763BY1CZl64s4A"/>
	<input type="hidden" name="subform" value="yes"/>
	<input type="submit" name="submit" id="submit"/>
</form>


</div>

<h2 id="module">
  module
  <a class="heading-link" href="#module">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>We already know from the post <a href="https://mkvl.me/blog/article/getting-started-using-and-configuring-typescript-compiler">Getting Started With TypeScript Compiler (tsc)</a> that we can tell TypeScript to compile the code into JavaScript that uses <a href="/es-modules/">ES Modules</a> instead of <a href="/commonjs-modules/">CommonJS Modules</a>. For that purpose we used the special option of <strong>tsc</strong>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">tsc --module ESNext src/main.ts
</span></span></code></pre></td></tr></table>
</div>
</div><p>Now we can specify it in <strong>tsconfig.json</strong>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">{
</span></span><span class="line"><span class="cl">  &#34;compilerOptions&#34;: {
</span></span><span class="line"><span class="cl">    &#34;rootDir&#34;: &#34;./src&#34;,
</span></span><span class="line"><span class="cl">    &#34;outDir&#34;: &#34;./dist&#34;,
</span></span><span class="line"><span class="cl">    &#34;module&#34;: &#34;ESNext&#34;
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p>It works the same as the flag <strong>&ndash;module</strong> of <strong>tsc</strong>. You can compile the code again and see that now it uses ES Modules in compiled JavaScript code:</p>
<p><strong>dist/main.js</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">createQuestioner</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;./createQuestioner&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">greeting</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;./greeting&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ...
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="target">
  target
  <a class="heading-link" href="#target">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>The next important option of the TypeScript compiler is called <strong>target</strong>. You may notice that when we created <strong>tsconfig.json</strong> by command <code>tsc --init</code> the option <strong>target</strong> has already been set with value <strong>es5</strong> in the configuration file.</p>
<p>It means that TypeScript will compile the code to JavaScript code of version ES5. In other words, this compiled code can be executed by the browser or Node with a version that supports a version of JavaScript (ECMAScript) that is no more than ES5. So, if your environment where you need to run your application (some specific version of web browser or Node) doesn&rsquo;t support modern features of JavaScript, you should set option <strong>target</strong> with the version of JavaScript that is supported by this environment.</p>
<p>In practice if your environment is a Web browser, i.e. you work on the Front End project, you probably will use value <strong>es2015</strong> of option <strong>target</strong>. Of course, if you don&rsquo;t have some specific web browser and you need to run JavaScript with version <strong>ES3</strong>.</p>
<p>For the Node, there is information <a href="https://github.com/microsoft/TypeScript/wiki/Node-Target-Mapping">on GitHub</a> with recommendations on what <strong>tsconfig.json</strong> settings to use.</p>
<p>A table with information about which <strong>target</strong> to use for a specific Node version:</p>
<table>
<thead>
<tr>
<th>version</th>
<th style="text-align:center">target</th>
</tr>
</thead>
<tbody>
<tr>
<td>16</td>
<td style="text-align:center">ES2021</td>
</tr>
<tr>
<td>14</td>
<td style="text-align:center">ES2020</td>
</tr>
<tr>
<td>12</td>
<td style="text-align:center">ES2019</td>
</tr>
<tr>
<td>10</td>
<td style="text-align:center">ES2018</td>
</tr>
<tr>
<td>8</td>
<td style="text-align:center">ES2017</td>
</tr>
</tbody>
</table>
<p>Also, check out the project <a href="https://node.green">node.green</a> that contains information about Node.js ECMAScript compatibility.</p>
<h3 id="example">
  Example
  <a class="heading-link" href="#example">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>In our code example in file <strong>main.ts</strong> we use async/await construction to manage asynchronous code. async/await construction have been available since the ES2017 version of <a href="/ecmascript/">ECMAScript</a>.</p>
<p>How it looks like in <strong>main.ts</strong>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">firstName</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">questioner</span><span class="p">.</span><span class="nx">ask</span><span class="p">(</span><span class="s2">&#34;Type your first name: &#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">username</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">questioner</span><span class="p">.</span><span class="nx">ask</span><span class="p">(</span><span class="s2">&#34;Type your username: &#34;</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Set the option <strong>target</strong> to <strong>ES2015</strong>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;compilerOptions&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;rootDir&#34;</span><span class="p">:</span> <span class="s2">&#34;./src&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;outDir&#34;</span><span class="p">:</span> <span class="s2">&#34;./dist&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;target&#34;</span><span class="p">:</span> <span class="s2">&#34;ES2015&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>And compile the code:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">tsc
</span></span></code></pre></td></tr></table>
</div>
</div><p>Now, open the file <strong>dist/main.js</strong> in the editor. You will see that where in our code was async/await construction, there is now something else:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">__awaiter</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="k">void</span> <span class="mi">0</span><span class="p">,</span> <span class="k">void</span> <span class="mi">0</span><span class="p">,</span> <span class="kd">function</span><span class="o">*</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">questioner</span> <span class="o">=</span> <span class="nx">createQuestioner</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">firstName</span> <span class="o">=</span> <span class="k">yield</span> <span class="nx">questioner</span><span class="p">.</span><span class="nx">ask</span><span class="p">(</span><span class="s2">&#34;Type your first name: &#34;</span><span class="p">);</span> <span class="c1">// async await??
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="kr">const</span> <span class="nx">username</span> <span class="o">=</span> <span class="k">yield</span> <span class="nx">questioner</span><span class="p">.</span><span class="nx">ask</span><span class="p">(</span><span class="s2">&#34;Type your username: &#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="nx">greeting</span><span class="p">(</span><span class="nx">firstName</span><span class="p">,</span> <span class="nx">username</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="nx">questioner</span><span class="p">.</span><span class="nx">finishUp</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ...
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>The reason why compiled code doesn&rsquo;t have async/await that we used in <strong>main.ts</strong> is that the code was compiled into the version of JavaScript that can be executed by Web browser or Node that doesn&rsquo;t support async/await construction.</p>
<p>Now, set the option <strong>target</strong> to value <strong>ES2017</strong> (or any version that is more than ES2017) and run <code>tsc</code>. Open file <strong>dist/main.js</strong> again. You will see:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">try</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">questioner</span> <span class="o">=</span> <span class="nx">createQuestioner</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">firstName</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">questioner</span><span class="p">.</span><span class="nx">ask</span><span class="p">(</span><span class="s2">&#34;Type your first name: &#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">username</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">questioner</span><span class="p">.</span><span class="nx">ask</span><span class="p">(</span><span class="s2">&#34;Type your username: &#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">greeting</span><span class="p">(</span><span class="nx">firstName</span><span class="p">,</span> <span class="nx">username</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">questioner</span><span class="p">.</span><span class="nx">finishUp</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ...
</span></span></span></code></pre></td></tr></table>
</div>
</div>
      </section>
    </div>
  </article>
  <div id="subscription">
    
<form action="https://sendy.mkvl.me/subscribe" method="POST" accept-charset="utf-8">
	<label for="name">Name</label><br/>
	<input type="text" name="name" id="name"/>
	<br/>
	<label for="email">Email</label><br/>
	<input type="email" name="email" id="email"/><br/><br/>
<input type="checkbox" name="gdpr" id="gdpr"/>
<span><strong>Marketing permission</strong>: I give my consent to MKVL to be in touch with me via email using the information I have provided in this form for the purpose of news, updates and marketing.</span>
<br/><br/>
<span><strong>What to expect</strong>: If you wish to withdraw your consent and stop hearing from us, simply click the unsubscribe link at the bottom of every email we send or contact us at max@mkvl.me. We value and respect your personal data and privacy. To view our privacy policy, please visit our website. By submitting this form, you agree that we may process your information in accordance with these terms.</span>
<br/><br/><div style="display:none;">
	<label for="hp">HP</label><br/>
	<input type="text" name="hp" id="hp"/>
	</div>
	<input type="hidden" name="list" value="jr5dhhdYyT763BY1CZl64s4A"/>
	<input type="hidden" name="subform" value="yes"/>
	<input type="submit" name="submit" id="submit"/>
</form>


  </div>
  <div class="container">
    <h3 class="monospace text-center bold">
      Comments 💬
    </h3>
    
  </div>
</div>

  

        </main>
      </div>

        
  <footer class="footer">
    <section class="container">
      <div class="footer__inner">
        <div>
          
            ©
             MKVL 
            2024
          
        </div>
        
          <div>
            <a href="https://xn--sr8hvo.ws/%F0%9F%9A%A7%F0%9F%8D%9D%F0%9F%92%90/previous">←</a>
            An IndieWeb Webring 🕸💍
            <a href="https://xn--sr8hvo.ws/%F0%9F%9A%A7%F0%9F%8D%9D%F0%9F%92%90/next">→</a>
          </div>
        
        
        <div>
          
            Powered by <a href="https://gohugo.io/">Hugo</a>
          
          
        </div>
      </div>
    </section>
  </footer>


    </div>

    
      
      <script src="/js/byte.js"></script>
    

    
      
      <script src="/js/subscription.js"></script>
    

    
      
      <script src="/js/subscribers-counter.js"></script>
    

    

    
  



    

    <script async defer data-domain="mkvl.me" src="https://plausible.io/js/plausible.js"></script>


    

    

    

    
  </body>

</html>
